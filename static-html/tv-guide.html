<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>home</title>
  <link rel="icon" type="image/x-icon" href="../images/favicon_io/favicon.ico">
  <link rel="preload" as="image" href="../images/tv_with_cover.png">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=block" rel="stylesheet" />
  <style>
    html,
    body {
      margin: 0;
      padding: 0;
      height: 100%;
      width: 100%;
      overflow: hidden;
      background: black;
      font-family: 'Press Start 2P', cursive;
      visibility: hidden;
    }

    .page-wrapper {
      display: flex;
      align-items: center;
      justify-content: center;
      height: 100vh;
      width: 100vw;
    }

    .tv-container {
      background: #171DA8;
      position: relative;
      width: 100vw;
      max-width: 100vw;
      aspect-ratio: 1114 / 699;
      background-image: url('../images/tv_with_cover.png');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
    }

    .scale-wrapper {
      position: absolute;
      top: 0;
      left: 0;
      width: 1114px;
      height: 699px;
      transform-origin: top left;
      transform: scale(var(--scale));
    }

    .video-container {
      position: absolute;
      top: 65px;
      left: 205px;
      width: 675px;
      height: 470px;
      transform-origin: top left;
      background-color: transparent;
    }

    .vhs-message {
      width: 100%;
      height: 100%;
      display: flex;
      justify-content: center;
      align-items: center;
      text-align: center;
      animation: track 5ms infinite;
    }

    .vhs-message span {
      animation: blur 30ms infinite, flick 50ms infinite, jump 50ms infinite;
    }

    h1,
    h3 {
      margin: 1em 0;
      color: #fff;
      text-shadow: 1px 3px green, -2px -3px red;
      filter: blur(1px);
      text-align: left;
    }

    h1 {
      font-size: 2.4em;
    }

    h3 {
      font-size: 0.8em;
    }

    /* Wrap the scrollable table in a container for fixed indicator */
    .about-wrapper {
      position: relative;
      max-height: 215px;
    }

    .about-body {
      overflow-y: scroll;
      padding-top: 1%;
      padding-right: 45%;
      font-size: 1em;
      color: #fff;
      text-align: left;
      max-height: 215px;
      scrollbar-width: none;
      /* Firefox */
      -ms-overflow-style: none;
      /* IE/Edge */
    }

    .about-body::-webkit-scrollbar {
      width: 6px;
    }

    .about-body::-webkit-scrollbar-track {
      background: transparent;
    }

    .about-body::-webkit-scrollbar-thumb {
      background-color: rgba(255, 255, 255, 0.2);
      border-radius: 3px;
      transition: background-color 0.3s ease;
    }

    .about-body:hover::-webkit-scrollbar-thumb {
      background-color: rgba(255, 255, 255, 0.5);
    }

    /* Table styling with white outlines (kept) and centered horizontally */
    .table-text {
      border-collapse: collapse;
      border: 2px solid white;
      margin: 0 auto;
      font-size: 0.67em;
      color: #fff;
      text-shadow: 1px 2px green, -1px -2px red;
      filter: blur(0.5px);
      align: center;
      width: 130%
    }

    .table-text td,
    .table-text th {
      border: 2px solid white;
      padding-left: 30px;
      padding-right: 30px;
      padding-top: 10px;
      padding-bottom: 10px;

    }

    /* Remove the default link hover behavior within the table cells */
    .table-text td a:hover {
      background-color: transparent;
      color: inherit;
    }

    /* Apply the hover effect to the entire table cell */
    .table-text td:hover {
      background-color: white;
      color: #171DA8;
      cursor: pointer;
      /* Optional: indicates the cell is interactive */
    }

    /* Ensure the links inside a hovered cell inherit the new color */
    .table-text td:hover a {
      color: inherit;
    }

    .table-text td.no-hover:hover {
      background-color: transparent;
      /* Or inherit the original background */
      color: inherit;
      cursor: default;
    }


    /* Fixed scroll-indicator positioned at bottom center of the wrapper */
    .scroll-indicator {
      position: absolute;
      bottom: 5px;
      left: 35%;
      transform: translateX(-50%);
      text-align: center;
      font-size: 0.6em;
      color: #fff;
      text-shadow: 1px 2px green, -1px -2px red;
      filter: blur(0.5px);
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
      width: 100%;
    }

    a {
      color: white;
      text-decoration: none;
    }

    a:hover {
      color: #171DA8;
      background-color: white;
    }

    .tv-foreground {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 10;
    }

    /* Animations (unchanged) */
    @keyframes blur {

      0%,
      100% {
        filter: blur(1px);
        opacity: 0.8;
      }

      50% {
        filter: blur(1px);
        opacity: 1;
      }
    }

    @keyframes flick {
      50% {
        left: 2px;
      }

      51% {
        left: 0;
      }
    }

    @keyframes jump {
      30% {
        top: 1px;
      }

      31% {
        top: 0;
      }
    }

    @keyframes appear {

      0%,
      100% {
        filter: blur(5px);
        opacity: 0.85;
      }

      50% {
        filter: blur(3px);
        opacity: 0.85;
      }
    }

    @keyframes big-jump {

      0%,
      12%,
      54%,
      56%,
      86%,
      88% {
        top: 0;
      }

      10% {
        top: -10px;
      }

      55% {
        top: -30px;
      }

      87% {
        top: -60px;
      }
    }

    @-webkit-keyframes track {
      40% {
        opacity: 1;
        top: 0;
        left: 0;
        transform: scale(1, 1) skew(0, 0);
      }

      41% {
        opacity: 0.8;
        top: 0;
        left: -1px;
        transform: scale(1, 1.2) skew(10deg, 0);
      }

      42% {
        opacity: 0.8;
        top: 0;
        left: 1px;
        transform: scale(1, 1.2) skew(-15deg, 0);
      }

      43% {
        opacity: 1;
        top: 0;
        left: 0;
        transform: scale(1, 1) skew(0, 0);
      }
    }
  </style>
</head>

<body>
  <div class="page-wrapper">
    <div class="tv-container" id="tvContainer">
      <div class="scale-wrapper" id="scaleWrapper">
        <div class="video-container">
          <div class="vhs-message">
            <span>
              <h1>GUIDE</h1>
              <!-- Use a wrapper to hold the scrollable table and fixed indicator -->
              <div class="about-wrapper">
                <div class="about-body">
                  <table class="table-text">
                    <tr>
                      <td colspan="3" style="font-size: 1.2em;" class="no-hover">daytime program</td>
                    </tr>
                    <tr>
                      <td><a href="https://www.youtube.com/embed/9L0awdHkPnQ?autoplay=1&wmode=opaque">06:00–07:30</a>
                      </td>
                      <td><a href="https://www.youtube.com/embed/eCtVDGgVx90?autoplay=1&wmode=opaque">07:30–09:00</a>
                      </td>
                      <td><a href="https://www.youtube.com/embed/Hp1mOr_yFgs?autoplay=1&wmode=opaque">09:00–10:30</a>
                      </td>
                    </tr>
                    <tr>
                      <td><a href="https://www.youtube.com/embed/dHAr1JK8gxk?autoplay=1&wmode=opaque">10:30–12:00</a>
                      </td>
                      <td><a href="https://www.youtube.com/embed/5ZLA5_8ubug?autoplay=1&wmode=opaque">12:00–13:30</a>
                      </td>
                      <td><a href="https://www.youtube.com/embed/vfnFjqnRDSo?autoplay=1&wmode=opaque">13:30–15:00</a>
                      </td>
                    </tr>
                    <tr>
                      <td><a href="https://www.youtube.com/embed/zE0f0e2359M?autoplay=1&wmode=opaque">15:00–16:30</a>
                      </td>
                      <td><a href="https://www.youtube.com/embed/Q1ivDVHOa_c?autoplay=1&wmode=opaque">16:30–18:00</a>
                      </td>
                      <td><a href="https://www.youtube.com/embed/AY3R03oLbtk?autoplay=1&wmode=opaque">18:00–19:30</a>
                      </td>
                    </tr>
                    <tr>
                      <td><a href="https://www.youtube.com/embed/dmKmr3Wom38?autoplay=1&wmode=opaque">19:30–21:00</a>
                      </td>
                    </tr>
                    <tr>
                      <td colspan="3" style="font-size: 1.2em;" class="no-hover">nighttime program</td>
                    </tr>
                    <tr>
                      <td><a href="https://www.youtube.com/embed/ULV4I22rey4?autoplay=1&wmode=opaque">21:00–22:30</a>
                      </td>
                      <td><a href="https://www.youtube.com/embed/r-KDJvb8Zs4?autoplay=1&wmode=opaque">22:30–00:00</a>
                      </td>
                      <td><a href="https://www.youtube.com/embed/Cr2-7wgh9Lo?autoplay=1&wmode=opaque">00:00–01:30</a>
                      </td>
                    </tr>
                    <tr>
                      <td><a href="https://www.youtube.com/embed/a2TYbFD07qM?autoplay=1&wmode=opaque">01:30–03:00</a>
                      </td>
                      <td><a href="https://www.youtube.com/embed/LgiJdjnrX8U?autoplay=1&wmode=opaque">03:00–04:30</a>
                      </td>
                      <td><a href="https://www.youtube.com/embed/H38xy-zl21M?autoplay=1&wmode=opaque">04:30–06:00</a>
                      </td>
                    </tr>
                  </table>
                </div>
                <div class="scroll-indicator">↓ scroll down for more ↓</div>
              </div>
            </span>
          </div>
        </div>
      </div>
      <img alt="TV frame" class="tv-foreground" src="../images/tv_with_cover_lowopacity.png">
    </div>
  </div>
  <script>
    function updateScale() {
      const container = document.getElementById('tvContainer');
      const scaleWrapper = document.getElementById('scaleWrapper');
      const targetWidth = 1114;
      const actualWidth = container.clientWidth;
      const scale = actualWidth / targetWidth;
      scaleWrapper.style.setProperty('--scale', scale);
    }
    async function waitForReady() {
      const font = new FontFace('Press Start 2P', 'url(https://fonts.gstatic.com/s/pressstart2p/v11/e3t4euO8T-267oIAQAu6jDQyKPRJ1_U.woff2)');
      try {
        await font.load();
        document.fonts.add(font);
      } catch (e) {
        console.warn("Font load failed (fallback will be used)");
      }
      const img = new Image();
      img.src = "../images/tv_with_cover.png";
      await new Promise(res => { img.onload = res; img.onerror = res; });
      document.body.style.visibility = 'visible';
      updateScale();
    }
    waitForReady();
    window.addEventListener('resize', updateScale);
    // Minimal JS for scroll-indicator behavior:
    document.addEventListener("DOMContentLoaded", () => {
      const aboutBody = document.querySelector(".about-body");
      const scrollIndicator = document.querySelector(".scroll-indicator");
      let scrollingTimer = null;
      function checkScroll() {
        const isScrollable = aboutBody.scrollHeight > aboutBody.clientHeight;
        const isAtBottom = aboutBody.scrollTop + aboutBody.clientHeight >= aboutBody.scrollHeight - 1;
        if (!isScrollable || isAtBottom) {
          scrollIndicator.style.opacity = "0";
        } else if (aboutBody.matches(":hover") && !scrollingTimer) {
          scrollIndicator.style.opacity = "1";
        } else {
          scrollIndicator.style.opacity = "0";
        }
      }
      aboutBody.addEventListener("scroll", () => {
        // Hide indicator immediately when scrolling
        scrollIndicator.style.opacity = "0";
        clearTimeout(scrollingTimer);
        scrollingTimer = setTimeout(() => {
          scrollingTimer = null;
          checkScroll();
        }, 150);
      });
      aboutBody.addEventListener("mouseenter", checkScroll);
      aboutBody.addEventListener("mouseleave", () => {
        scrollIndicator.style.opacity = "0";
      });
      checkScroll();
    });
  </script>
</body>

</html>